{
  "circlesOfTrust": {},
  "emailTemplates": {},
  "innerNodes": {
    "3b426b72-8fe0-4100-861e-6308bb4d7e4e": {
      "_id": "3b426b72-8fe0-4100-861e-6308bb4d7e4e",
      "_outcomes": [
        {
          "displayName": "true",
          "id": "true"
        }
      ],
      "_type": {
        "_id": "ScriptedDecisionNode",
        "collection": true,
        "name": "Scripted Decision"
      },
      "inputs": [
        "*"
      ],
      "outcomes": [
        "true"
      ],
      "outputs": [
        "*"
      ],
      "script": "a7a83783-dff1-48b5-b216-37a5bbe9569c"
    }
  },
  "meta": {
    "exportDate": "2025-05-11T15:50:22.189Z",
    "exportTool": "frodo",
    "exportToolVersion": "v3.1.0 [v20.19.0]",
    "exportedBy": "harjindersingh.dhanjal@staples.com",
    "origin": "https://openam-staplesciam-use4-dev.id.forgerock.io/am",
    "originAmVersion": "8.0.0"
  },
  "nodes": {
    "22856339-794f-4f48-a523-6b4e9b3d3cf3": {
      "_id": "22856339-794f-4f48-a523-6b4e9b3d3cf3",
      "_outcomes": [
        {
          "displayName": "true",
          "id": "true"
        }
      ],
      "_type": {
        "_id": "PageNode",
        "collection": true,
        "name": "Page Node"
      },
      "nodes": [
        {
          "_id": "3b426b72-8fe0-4100-861e-6308bb4d7e4e",
          "displayName": "Login Attribute Collector Decision",
          "nodeType": "ScriptedDecisionNode"
        }
      ],
      "pageDescription": {
        "en": "<p style=\"font-size: 24px; color: #000000;\">\n    <b style=\"font-family: 'StaplesSans', Arial, sans-serif; font-weight: bold;\">\n        Sign into your Staples account\n    </b>\n</p>"
      },
      "pageHeader": {},
      "stage": "{\"submitButtonText\":{\"en\":\"Sign in with Password\"},\"pageFooter\":{\"en\":\"<style> \\n  .sign-in-btn {\\n    background-color: #CC0000;\\n    color: white;\\n    border: none;\\n    padding: 12px 50px;\\n    font-size: 15px;\\n    font-weight: normal;\\n    border-radius: 50px;\\n    width: 100%;\\n    max-width: 100%;\\n    text-align: center;\\n    display: block;\\n    cursor: pointer;\\n    text-decoration: none;\\n    margin-top: -5px;\\n  }\\n\\n  .sign-in-btn:hover {\\n    background-color: #900000;\\n    color: #FFFFFF;\\n    text-decoration: none;\\n  }\\n\\n  /* Forgot Username, Password & Locked out */\\n  .link-container {\\n    display: flex;\\n    justify-content: center;\\n    gap: 12px;\\n    margin-top: -40px;\\n    margin-bottom: 5px;\\n    font-size: 15px;\\n    flex-wrap: nowrap;\\n  }\\n\\n  .link-container a {\\n    text-decoration: underline;\\n    font-weight: normal;\\n    color: #086DD2;\\n    white-space: nowrap;\\n  }\\n\\n  .divider {\\n    text-align: center;\\n    font-weight: bold;\\n    margin: 5px 0;\\n  }\\n\\n  .passkey-info {\\n    text-align: center;\\n    margin-top: 5px;\\n    font-size: 14px;\\n  }\\n\\n  .passkey-info a {\\n    text-decoration: underline;\\n    color: black;\\n    font-weight: normal;\\n  }\\n\\n  .account-actions {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 10px;\\n    align-items: center;\\n    margin-top: 10px;\\n  }\\n\\n  .create-account-btn,\\n  .shop-guest-btn {\\n    background-color: white;\\n    color: #000000;\\n    border: 2px solid black;\\n    padding: 10px 40px;\\n    font-size: 15px;\\n    font-weight: normal;\\n    border-radius: 50px;\\n    width: 100%;\\n    max-width: 100%;\\n    text-align: center;\\n    display: block;\\n    cursor: pointer;\\n    text-decoration: none;\\n    white-space: nowrap;\\n  }\\n\\n  .create-account-btn:hover,\\n  .shop-guest-btn:hover {\\n    background-color: #f2f2f2;\\n    text-decoration: none;\\n  }\\n\\n  .terms-container {\\n    text-align: center;\\n    margin-top: 10px;\\n    font-size: 14px;\\n  }\\n\\n  .terms-container a {\\n    text-decoration: underline;\\n    color: #086DD2;\\n    font-weight: normal;\\n    display: block;\\n  }\\n\\n  /* Passkey Info Modal - CSS Only */\\n  .passkey-modal {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background: rgba(0,0,0,0.5);\\n    z-index: 1000;\\n    opacity: 0;\\n    pointer-events: none;\\n    transition: opacity 0.3s ease;\\n  }\\n\\n  .passkey-modal:target {\\n    opacity: 1;\\n    pointer-events: auto;\\n  }\\n\\n  .passkey-modal-content {\\n    background: white;\\n    width: 90%;\\n    max-width: 500px;\\n    margin: 30vh auto;\\n    padding: 20px;\\n    border-radius: 8px;\\n    position: relative;\\n  }\\n\\n  .passkey-modal-close {\\n    position: absolute;\\n    top: 2px;\\n    right: 15px;\\n    font-size: 24px;\\n    text-decoration: none;\\n    color: #333;\\n  }\\n\\n  .passkey-modal-title {\\n    font-size: 20px;\\n    font-weight: bold;\\n    margin-bottom: 15px;\\n  }\\n\\n  .passkey-modal-body {\\n    font-size: 15px;\\n    line-height: 1.5;\\n    color: #333;\\n  }\\n\\n  .bold-text {\\n    font-weight: bold;\\n  }\\n\\n  .enroll-link {\\n    color: #CC0000;\\n    text-decoration: none;\\n    font-weight: bold;\\n    display: inline-flex;\\n    align-items: center;\\n    margin-top: 10px;\\n  }\\n\\n  .enroll-link:hover {\\n    color: #900000;\\n    text-decoration: none;\\n  }\\n\\n  .enroll-link:after {\\n    content: \\\" >\\\";\\n    font-weight: bold;\\n    margin-left: 5px;\\n  }\\n\\n  .modal-text-block {\\n    margin-bottom: 15px;\\n  }\\n\\n  .modal-text-line {\\n    margin-bottom: 10px;\\n  }\\n</style>\\n\\n<!-- Aligned Links: Forgot Username, Password, Locked Out -->\\n<div class=\\\"link-container\\\">\\n  <a href=\\\"#/service/ForgottenUsername\\\">Forgot Username?</a>\\n  <a href=\\\"#/service/ResetPassword\\\">Forgot Password?</a>\\n</div>\\n\\n<!-- Divider -->\\n<div class=\\\"divider\\\">or</div>\\n\\n<!-- Sign-in with Passkey -->\\n<a href=\\\"https://&{fqdn}/am/XUI/?realm=/alpha&authIndexType=service&authIndexValue=__Passkey_S5#\\\" class=\\\"sign-in-btn\\\">\\n  Sign in with Passkey\\n</a>\\n\\n<!-- What's a Passkey -->\\n<div class=\\\"passkey-info\\\">\\n  <a href=\\\"#passkey-info\\\">What's a passkey?</a>\\n</div>\\n\\n<!-- Passkey Info Modal -->\\n<div id=\\\"passkey-info\\\" class=\\\"passkey-modal\\\">\\n  <div class=\\\"passkey-modal-content\\\">\\n    <a href=\\\"#\\\" class=\\\"passkey-modal-close\\\">&times;</a>\\n    <div class=\\\"passkey-modal-title\\\">Let's get you enrolled in passwordless sign-in</div>\\n    <div class=\\\"passkey-modal-body\\\">\\n      <div class=\\\"modal-text-block\\\">\\n        <div class=\\\"modal-text-line\\\">Next time you visit, you'll be able to sign in quickly with your <span class=\\\"bold-text\\\">face, fingerprint or whatever your device supports</span>.</div>\\n        <div class=\\\"modal-text-line\\\">To enroll, click on Sign in with Passkey button and follow the prompts.</div>\\n      </div>\\n      <a href=\\\"https://&{fqdn}/am/XUI/?realm=/alpha&authIndexType=service&authIndexValue=__Passkey_S5#\\\" target=\\\"_blank\\\" class=\\\"enroll-link\\\">\\n        Sign in with Passkey and enroll\\n      </a>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Create Account & Shop as Guest -->\\n<div class=\\\"account-actions\\\">\\n  <a href=\\\"https://&{fqdn}/am/XUI/?realm=alpha&amp;authIndexType=service&amp;authIndexValue=Dotcom_User_Registeration\\\" \\n     target=\\\"_blank\\\" class=\\\"create-account-btn\\\">\\n     Create your Staples account\\n  </a>\\n\\n  <a href=\\\"/shop-as-guest\\\" class=\\\"shop-guest-btn\\\" id=\\\"shop-guest-btn\\\">\\n    Shop as Guest\\n  </a>\\n</div>\\n\\n<!-- Terms & Privacy -->\\n<div class=\\\"terms-container\\\">\\n  <span>By signing in, you agree to the following:</span>\\n  <a href=\\\"#\\\">Staples Terms & Conditions</a>\\n  <a href=\\\"#\\\">Staples Privacy Policy</a>\\n</div>\\n\"}}"
    },
    "31492a91-aff6-4e42-8626-e10f35586c89": {
      "_id": "31492a91-aff6-4e42-8626-e10f35586c89",
      "_outcomes": [
        {
          "displayName": "Outcome",
          "id": "outcome"
        }
      ],
      "_type": {
        "_id": "DeviceProfileCollectorNode",
        "collection": true,
        "name": "Device Profile Collector"
      },
      "deviceLocation": false,
      "deviceMetadata": true,
      "maximumSize": "3",
      "message": {}
    },
    "4042643b-67e7-4580-980d-1569fc3b0a0e": {
      "_id": "4042643b-67e7-4580-980d-1569fc3b0a0e",
      "_outcomes": [
        {
          "displayName": "true",
          "id": "true"
        },
        {
          "displayName": "false",
          "id": "false"
        }
      ],
      "_type": {
        "_id": "ScriptedDecisionNode",
        "collection": true,
        "name": "Scripted Decision"
      },
      "inputs": [
        "*"
      ],
      "outcomes": [
        "true",
        "false"
      ],
      "outputs": [
        "*"
      ],
      "script": "1d2a21ef-eddb-4c8e-a1ce-139dd35e49fb"
    },
    "48eb0092-08cf-4bae-b73c-bad4026d1c4d": {
      "_id": "48eb0092-08cf-4bae-b73c-bad4026d1c4d",
      "_outcomes": [
        {
          "displayName": "username",
          "id": "username"
        },
        {
          "displayName": "email",
          "id": "email"
        }
      ],
      "_type": {
        "_id": "ScriptedDecisionNode",
        "collection": true,
        "name": "Scripted Decision"
      },
      "inputs": [
        "*"
      ],
      "outcomes": [
        "username",
        "email"
      ],
      "outputs": [
        "*"
      ],
      "script": "7cf980d2-80be-43c6-9935-696118c6f4d8"
    },
    "79088e17-804f-4efd-8966-88196c6c8079": {
      "_id": "79088e17-804f-4efd-8966-88196c6c8079",
      "_outcomes": [
        {
          "displayName": "Not Compromised",
          "id": "Not Compromised"
        },
        {
          "displayName": "Compromised",
          "id": "Compromised"
        },
        {
          "displayName": "Error",
          "id": "Error"
        }
      ],
      "_type": {
        "_id": "spycloudAuthNode",
        "collection": true,
        "name": "spycloudAuthNode"
      },
      "apiKey": "&{esv.sckey}",
      "apiUrl": "https://api.spycloud.io/sp-v2/breach/data/emails/",
      "identifierSharedStateKey": "spyCloudInputValue",
      "severity": "20,25"
    },
    "a6b2a6fb-d654-4833-bd38-9863421068eb": {
      "_id": "a6b2a6fb-d654-4833-bd38-9863421068eb",
      "_outcomes": [
        {
          "displayName": "Outcome",
          "id": "outcome"
        }
      ],
      "_type": {
        "_id": "AccountLockoutNode",
        "collection": true,
        "name": "Account Lockout"
      },
      "lockAction": "LOCK"
    },
    "c2eb04a3-9539-4f7c-bacd-6f76e1a1f990": {
      "_id": "c2eb04a3-9539-4f7c-bacd-6f76e1a1f990",
      "_outcomes": [
        {
          "displayName": "Outcome",
          "id": "outcome"
        }
      ],
      "_type": {
        "_id": "SetPersistentCookieNode",
        "collection": true,
        "name": "Set Persistent Cookie"
      },
      "hmacSigningKey": null,
      "idleTimeout": 5,
      "maxLife": 5,
      "persistentCookieName": "session-jwt",
      "useHttpOnlyCookie": false,
      "useSecureCookie": false
    },
    "c65ffbe5-1a4f-4c2d-ad47-68910ff32499": {
      "_id": "c65ffbe5-1a4f-4c2d-ad47-68910ff32499",
      "_outcomes": [
        {
          "displayName": "Outcome",
          "id": "outcome"
        }
      ],
      "_type": {
        "_id": "DebugNode",
        "collection": true,
        "name": "Debug Node"
      },
      "popupEnabled": true
    },
    "d1f02492-2f93-4840-8e2d-a6e4c8c32410": {
      "_id": "d1f02492-2f93-4840-8e2d-a6e4c8c32410",
      "_outcomes": [
        {
          "displayName": "True",
          "id": "true"
        },
        {
          "displayName": "False",
          "id": "false"
        }
      ],
      "_type": {
        "_id": "PersistentCookieDecisionNode",
        "collection": true,
        "name": "Persistent Cookie Decision"
      },
      "enforceClientIp": false,
      "hmacSigningKey": null,
      "idleTimeout": 5,
      "persistentCookieName": "session-jwt",
      "useHttpOnlyCookie": false,
      "useSecureCookie": false
    },
    "d26ae5e7-c474-4eec-8c8d-9122669108cf": {
      "_id": "d26ae5e7-c474-4eec-8c8d-9122669108cf",
      "_outcomes": [
        {
          "displayName": "Outcome",
          "id": "outcome"
        },
        {
          "displayName": "Configuration failure",
          "id": "CONFIGURATION_FAILED"
        }
      ],
      "_type": {
        "_id": "ConfigProviderNode",
        "collection": true,
        "name": "Configuration Provider"
      },
      "nodeType": "SetCustomCookieNode",
      "script": "92a21a17-c211-4a1d-b213-00982b8b5fa0",
      "scriptInputs": [
        "*"
      ]
    },
    "e5002434-8914-44ef-ad44-c1d179b3cb32": {
      "_id": "e5002434-8914-44ef-ad44-c1d179b3cb32",
      "_outcomes": [
        {
          "displayName": "True",
          "id": "true"
        },
        {
          "displayName": "False",
          "id": "false"
        }
      ],
      "_type": {
        "_id": "DataStoreDecisionNode",
        "collection": true,
        "name": "Data Store Decision"
      }
    },
    "e79146ba-ae99-4a1a-8a1f-301f34279914": {
      "_id": "e79146ba-ae99-4a1a-8a1f-301f34279914",
      "_outcomes": [
        {
          "displayName": "Not Compromised",
          "id": "Not Compromised"
        },
        {
          "displayName": "Compromised",
          "id": "Compromised"
        },
        {
          "displayName": "Error",
          "id": "Error"
        }
      ],
      "_type": {
        "_id": "spycloudAuthNode",
        "collection": true,
        "name": "spycloudAuthNode"
      },
      "apiKey": "&{esv.sckey}",
      "apiUrl": "https://api.spycloud.io/sp-v2/breach/data/usernames/",
      "identifierSharedStateKey": "spyCloudInputValue",
      "severity": "20,25"
    },
    "eaac43f4-ccc1-4763-9bb6-346cf491a739": {
      "_id": "eaac43f4-ccc1-4763-9bb6-346cf491a739",
      "_outcomes": [
        {
          "displayName": "unknown",
          "id": "unknown"
        },
        {
          "displayName": "match",
          "id": "match"
        },
        {
          "displayName": "mismatch",
          "id": "mismatch"
        },
        {
          "displayName": "error",
          "id": "error"
        }
      ],
      "_type": {
        "_id": "ScriptedDecisionNode",
        "collection": true,
        "name": "Scripted Decision"
      },
      "inputs": [
        "*"
      ],
      "outcomes": [
        "unknown",
        "match",
        "mismatch",
        "error"
      ],
      "outputs": [
        "*"
      ],
      "script": "15583b28-c375-4c83-a8ab-b249abfb1d5c"
    },
    "f522dec3-36cf-45e8-84d4-0df39e459077": {
      "_id": "f522dec3-36cf-45e8-84d4-0df39e459077",
      "_outcomes": [
        {
          "displayName": "True",
          "id": "true"
        },
        {
          "displayName": "False",
          "id": "false"
        }
      ],
      "_type": {
        "_id": "IdentifyExistingUserNode",
        "collection": true,
        "name": "Identify Existing User"
      },
      "identifier": "userName",
      "identityAttribute": "mail"
    },
    "ff580a3e-3e80-47b6-9f6b-5481187ea4b6": {
      "_id": "ff580a3e-3e80-47b6-9f6b-5481187ea4b6",
      "_outcomes": [
        {
          "displayName": "True",
          "id": "true"
        },
        {
          "displayName": "False",
          "id": "false"
        }
      ],
      "_type": {
        "_id": "AccountActiveDecisionNode",
        "collection": true,
        "name": "Account Active Decision"
      }
    }
  },
  "saml2Entities": {},
  "scripts": {
    "15583b28-c375-4c83-a8ab-b249abfb1d5c": {
      "_id": "15583b28-c375-4c83-a8ab-b249abfb1d5c",
      "context": "AUTHENTICATION_TREE_DECISION_NODE",
      "createdBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "creationDate": 1746852549695,
      "default": false,
      "description": "staples_device_profile_match_decision",
      "evaluatorVersion": "2.0",
      "language": "JAVASCRIPT",
      "lastModifiedBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "lastModifiedDate": 1746939589408,
      "name": "staples_device_profile_match_decision",
      "script": "\"/**\\n * Device Identifier Comparison Node\\n *\\n * This node compares an incoming device identifier (from the user's profile)\\n * with a previously stored identifier (sent as a cookie). Based on this comparison,\\n * it returns one of the following outcomes:\\n *\\n * Outcomes:\\n * - match:     The incoming identifier exactly matches the stored one\\n *              → Device is recognized and valid\\n *\\n * - mismatch:  Both identifiers exist but do not match\\n *              → Device is not the same — potential risk\\n *\\n * - unknown:   - Cookie not sent\\n *              - Cookie is malformed\\n *              - Cookie value missing\\n *              → No basis to compare; treat as new or anonymous device\\n *\\n * - error:     incomingProfile is missing in nodeState\\n *              → Critical failure — profile was not provided\\n *\\n * - change (optional): Incoming identifier doesn't match stored one,\\n *                      and you plan to update the stored ID\\n *                      → Use only if implementing device re-binding logic\\n */\\n\\nlogger.debug(\\\"Starting device identifier comparison node...\\\");\\n\\nvar outcome;\\n\\n// === Retrieve incoming device profile from nodeState ===\\nvar incomingProfile = nodeState.get(\\\"forgeRock.device.profile\\\");\\nif (!incomingProfile) {\\n    logger.error(\\\"Device profile (incomingProfile) is undefined in nodeState.\\\");\\n    outcome = \\\"error\\\";\\n} else {\\n    logger.debug(\\\"Device profile found in nodeState.\\\");\\n\\n    var incomingDeviceIdentifier = incomingProfile.get(\\\"identifier\\\");\\n\\n    logger.debug(\\\"Extracted incomingDeviceIdentifier: {}\\\", incomingDeviceIdentifier);\\n\\n    nodeState.putShared(\\\"incomingDeviceIdentifier\\\", incomingDeviceIdentifier);\\n\\n    logger.debug(\\\"Stored incomingDeviceIdentifier in shared state.\\\");\\n\\n    // === Read 'fr-trusted-device-identifier' from requestCookies ===\\n    var trustedDeviceIdentifier = null;\\n\\n    if (requestCookies.containsKey(\\\"fr-trusted-device-identifier\\\")) {\\n        trustedDeviceIdentifier = requestCookies.get(\\\"fr-trusted-device-identifier\\\");\\n\\n        logger.debug(\\\"Found trustedDeviceIdentifier: {}\\\", trustedDeviceIdentifier);\\n    } else {\\n        logger.warn(\\\"'fr-trusted-device-identifier' not found in requestCookies.\\\");\\n        outcome = \\\"unknown\\\";\\n    }\\n\\n    // === Final comparison logic (if trustedDeviceIdentifier was found) ===\\n    if (trustedDeviceIdentifier !== null) {\\n        if (trustedDeviceIdentifier === incomingDeviceIdentifier) {\\n            logger.debug(\\\"Device identifier match confirmed: {}\\\", incomingDeviceIdentifier);\\n            outcome = \\\"match\\\";\\n        } else {\\n            logger.warn(\\\"Device identifier mismatch: expected {}, got {}\\\", trustedDeviceIdentifier, incomingDeviceIdentifier);\\n            outcome = \\\"mismatch\\\";\\n\\n            // Optional: if the system will update the stored identifier\\n            // outcome = \\\"change\\\";\\n        }\\n    }\\n}\\n\\n// === Final structured log ===\\nlogger.debug(\\\"Context Summary: {}\\\", JSON.stringify({\\n    incomingDeviceIdentifier: typeof incomingDeviceIdentifier !== \\\"undefined\\\" ? incomingDeviceIdentifier : null,\\n    trustedDeviceIdentifier: typeof trustedDeviceIdentifier !== \\\"undefined\\\" ? trustedDeviceIdentifier : null,\\n    outcome: outcome\\n}));\\n\\nlogger.debug(\\\"Device identifier comparison node completed with outcome: {}\\\", outcome);\\n\""
    },
    "1d2a21ef-eddb-4c8e-a1ce-139dd35e49fb": {
      "_id": "1d2a21ef-eddb-4c8e-a1ce-139dd35e49fb",
      "context": "AUTHENTICATION_TREE_DECISION_NODE",
      "createdBy": "id=fb910e90-a84b-43fb-8b64-75b5ddfc5c8c,ou=user,ou=am-config",
      "creationDate": 1740596807422,
      "default": false,
      "description": "staples_keep_me_logged_in_decision",
      "evaluatorVersion": "2.0",
      "language": "JAVASCRIPT",
      "lastModifiedBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "lastModifiedDate": 1746940173158,
      "name": "staples_keep_me_logged_in_decision",
      "script": "\"/*\\n * Decision Node: Determine Outcome Based on \\\"keepMeLoggedIn\\\" Flag\\n *\\n * This line retrieves the flag from the shared state and checks if it is strictly true.\\n * If true, the outcome is set to \\\"true\\\"; otherwise, it defaults to \\\"false\\\".\\n */\\noutcome = (nodeState.get(\\\"keepMeLoggedIn\\\") === true) ? \\\"true\\\" : \\\"false\\\";\\n\""
    },
    "7cf980d2-80be-43c6-9935-696118c6f4d8": {
      "_id": "7cf980d2-80be-43c6-9935-696118c6f4d8",
      "context": "AUTHENTICATION_TREE_DECISION_NODE",
      "createdBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "creationDate": 1746548482901,
      "default": false,
      "description": "staples_username_or_email_decision",
      "evaluatorVersion": "2.0",
      "language": "JAVASCRIPT",
      "lastModifiedBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "lastModifiedDate": 1746940978842,
      "name": "staples_username_or_email_decision",
      "script": "\"/*\\n  - Data made available by nodes that have already executed are available in the sharedState variable.\\n  - The script should set outcome to either \\\"true\\\" or \\\"false\\\".\\n */\\n\\noutcome = nodeState.get(\\\"spyCloudInputType\\\"); // Get input from shared state\""
    },
    "92a21a17-c211-4a1d-b213-00982b8b5fa0": {
      "_id": "92a21a17-c211-4a1d-b213-00982b8b5fa0",
      "context": "CONFIG_PROVIDER_NODE",
      "createdBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "creationDate": 1746904726299,
      "default": false,
      "description": "staples_trusted_device_cookie_configuration",
      "evaluatorVersion": "1.0",
      "language": "JAVASCRIPT",
      "lastModifiedBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "lastModifiedDate": 1746976798892,
      "name": "staples_trusted_device_cookie_configuration",
      "script": "\"/*\\n * Copyright 2021-2022 ForgeRock AS. All Rights Reserved\\n *\\n * Use of this code requires a commercial software license with ForgeRock AS.\\n * or with one of its affiliates. All use shall be exclusively subject\\n * to such license between the licensee and ForgeRock AS.\\n */\\n\\n/**\\n * The following script is a simplified template for understanding how to build\\n * up a config Map object with custom values. The Config Provider Node will then\\n * provide this config Map to the desired node type. It is important that the Map\\n * you build here is named 'config'.\\n *\\n * Defined variables:\\n *\\n * nodeState - Node State (1)\\n *           Always present, this represents the current values stored in the node state.\\n *\\n * idRepository - Profile Data (2)\\n *           Always present, a repository to retrieve user information.\\n *\\n * secrets - Credentials and Secrets (3)\\n *           Always present, an interface to access the Secrets API from a scripting context.\\n *\\n * requestHeaders (4) - Map (5)\\n *           Always present, an object that provides methods for accessing headers in the login request.\\n *\\n * logger - Debug Logging (6)\\n *          Always present, the debug logger instance.\\n *\\n * httpClient - HTTP Client (7)\\n *          Always present, the HTTP client that can be used to make external HTTP requests.\\n *\\n * realm - String (primitive).\\n *          Always present, the name of the realm the user is authenticating to.\\n *\\n * existingSession - Map<String, String> (5)\\n *          Present if the request contains the session cookie, the user's session object. The returned map from\\n *          SSOToken.getProperties() (8)\\n *\\n * requestParameters - Map (5)\\n *          Always present, the object that contains the authentication request parameters.\\n *\\n *\\n * Outputs:\\n *\\n * config - Map (5)\\n *           Define and fill a Map object named 'config' with custom values, this will define the configuration for the\\n *           associated node selected in the ConfigProviderNode.\\n *\\n * Reference:\\n * (1) Node State - https://backstage.forgerock.com/docs/idcloud-am/latest/authentication-guide/scripting-api-node.html#scripting-api-node-nodeState\\n * (2) Profile Data - https://backstage.forgerock.com/docs/am/7.1/authentication-guide/scripting-api-node.html#scripting-api-node-id-repo\\n * (3) Credentials and Secrets - https://backstage.forgerock.com/docs/am/7.1/authentication-guide/scripting-api-node.html#scripting-api-authn-secrets\\n * (4) Request Headers - https://backstage.forgerock.com/docs/am/7/authentication-guide/scripting-api-node.html#scripting-api-node-requestHeaders.\\n * (5) Map - https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\\n * (6) Debug Logging - https://backstage.forgerock.com/docs/am/7/scripting-guide/scripting-api-global-logger.html#scripting-api-global-logger.\\n * (7) HTTP Client - https://backstage.forgerock.com/docs/am/7/apidocs/org/forgerock/http/Client.html.\\n * (8) SSOToken - https://backstage.forgerock.com/docs/am/7/apidocs/com/iplanet/sso/SSOToken.html.\\n */\\n\\nconfig = config = {\\n    \\\"name\\\": \\\"fr-trusted-device-identifier\\\",\\n    \\\"value\\\": nodeState.get(\\\"incomingDeviceIdentifier\\\"),\\n    \\\"maxAge\\\": \\\"15552000\\\",\\n    \\\"domain\\\": \\\".openam-staplesciam-use4-dev.id.forgerock.io\\\",\\n    \\\"path\\\": \\\"/\\\",\\n    \\\"useSecureCookie\\\": false,\\n    \\\"useHttpOnlyCookie\\\": false,\\n    \\\"sameSite\\\": \\\"NONE\\\"\\n};\""
    },
    "a7a83783-dff1-48b5-b216-37a5bbe9569c": {
      "_id": "a7a83783-dff1-48b5-b216-37a5bbe9569c",
      "context": "AUTHENTICATION_TREE_DECISION_NODE",
      "createdBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "creationDate": 1744333692310,
      "default": false,
      "description": "staples_login_attribute_collector_decision",
      "evaluatorVersion": "2.0",
      "language": "JAVASCRIPT",
      "lastModifiedBy": "id=d82595e4-c70c-4fd4-bed8-5cf0c903137c,ou=user,ou=am-config",
      "lastModifiedDate": 1746942877739,
      "name": "staples_login_attribute_collector_decision",
      "script": "\"/*\\n * Authentication Journey - Scripting Decision Node (Ping One Advanced Identity Cloud)\\n *\\n * Purpose:\\n *   - Prompt the user in the following order:\\n *         1. Username or Email\\n *         2. Password\\n *         3. \\\"Keep me logged in\\\" preference (session persistence)\\n *   - Capture these inputs and store them in the appropriate state variables for downstream processing.\\n *   - Set the outcome to \\\"true\\\" once processing is complete.\\n */\\n\\nif (callbacks.isEmpty()) {\\n    // Prompt for Username or Email\\n    callbacksBuilder.nameCallback(\\\"Enter your Username or Email\\\");\\n\\n    // Prompt for Password\\n    callbacksBuilder.passwordCallback(\\\"Password\\\", false);\\n\\n    // Prompt for \\\"keepMeLoggedIn\\\"\\n    callbacksBuilder.booleanAttributeInputCallback(\\\"keepMeLoggedIn\\\", \\\"Keep me logged in\\\", true, false);\\n\\n    // Optional client-side script injection (unchanged)\\n    var script = \\\"\\\" +\\n        \\\"const link = document.getElementById('go-back-link');\\\" +\\n        \\\"const shopGuestButton = document.getElementById('shop-guest-btn');\\\" +\\n        \\\"const params = new URLSearchParams(window.location.search);\\\" +\\n        \\\"let showGuest = params.get('showGuest');\\\" +\\n        \\\"if (!showGuest) {\\\" +\\n        \\\"  const gotoParam = params.get('goto');\\\" +\\n        \\\"  if (gotoParam) {\\\" +\\n        \\\"    try {\\\" +\\n        \\\"      const decoded = decodeURIComponent(gotoParam);\\\" +\\n        \\\"      const u = new URL(decoded, window.location.origin);\\\" +\\n        \\\"      showGuest = new URLSearchParams(u.search).get('showGuest');\\\" +\\n        \\\"    } catch (e) { console.error(e); }\\\" +\\n        \\\"  }\\\" +\\n        \\\"}\\\" +\\n        \\\"if (showGuest === 'true') {\\\" +\\n        \\\"  link.textContent = 'Return to Cart';\\\" +\\n        \\\"}\\\" +\\n        \\\"shopGuestButton.style.display = (showGuest === 'true') ? 'inline-block' : 'none';\\\" +\\n        \\\"const style = document.createElement('style');\\\" +\\n        \\\"style.textContent = `\\\" +\\n        \\\"  input[type='checkbox']:checked + label::before {\\\" +\\n        \\\"    background-color: blue !important;\\\" +\\n        \\\"    border-color: blue !important;\\\" +\\n        \\\"  }`;\\\" +\\n        \\\"document.head.appendChild(style);\\\";\\n    callbacksBuilder.scriptTextOutputCallback(script);\\n\\n} else {\\n    // Process submitted input\\n\\n    var usernameOrEmail = callbacks.getNameCallbacks().get(0);\\n    nodeState.putShared(\\\"username\\\", usernameOrEmail);\\n    nodeState.putShared(\\\"spyCloudInputValue\\\", usernameOrEmail);\\n\\n    // nodeState.putShared(\\\"objectAttributes\\\", {\\n    // \\t\\\"userName\\\": usernameOrEmail\\n    //   });\\n\\n    // Determine if the input is email or username\\n    var rfcCompliantEmailRegex = new RegExp(\\n        /^(([^<>()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^<>()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+)*)|(\\\".+\\\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$/\\n    );\\n\\n    if (rfcCompliantEmailRegex.test(usernameOrEmail)) {\\n        nodeState.putShared(\\\"spyCloudInputType\\\", \\\"email\\\");\\n    } else {\\n        nodeState.putShared(\\\"spyCloudInputType\\\", \\\"username\\\");\\n    }\\n\\n    // Store Password\\n    var password = callbacks.getPasswordCallbacks().get(0);\\n    nodeState.putTransient(\\\"password\\\", password);\\n\\n    // Store \\\"keepMeLoggedIn\\\" preference\\n    var keepMeLoggedIn = callbacks.getBooleanAttributeInputCallbacks().get(0);\\n    nodeState.putShared(\\\"keepMeLoggedIn\\\", keepMeLoggedIn);\\n\\n    // Extract optional jumpUrl from query string\\n    var jumpUrl = null;\\n    var userGotoParam = nodeState.get(\\\"userGotoParam\\\");\\n\\n    if (userGotoParam) {\\n        try {\\n            var url = decodeURIComponent(userGotoParam);\\n            var queryStart = url.indexOf('?');\\n            if (queryStart !== -1) {\\n                var queryString = url.substring(queryStart + 1);\\n                var params = queryString.split('&');\\n                for (var i = 0; i < params.length; i++) {\\n                    var pair = params[i].split('=', 2);\\n                    var paramKey = decodeURIComponent(pair[0]);\\n                    var paramValue = decodeURIComponent(pair[1] || '');\\n                    if (paramKey === 'jumpUrl') {\\n                        jumpUrl = paramValue;\\n                        nodeState.putShared(\\\"jumpUrl\\\", jumpUrl);\\n                        break;\\n                    }\\n                }\\n            }\\n        } catch (e) {\\n            logger.error(\\\"Error parsing userGotoParam for jumpURL: \\\" + e.message, e);\\n        }\\n    }\\n\\n    // Set session properties\\n    action.goTo(\\\"true\\\").putSessionProperty(\\\"keepMeLoggedIn\\\", keepMeLoggedIn);\\n    action.goTo(\\\"true\\\").putSessionProperty(\\\"jumpUrl\\\", jumpUrl);\\n\\n    // Complete step\\n    action.goTo(\\\"true\\\");\\n}\\n\\noutcome = \\\"true\\\";\\n\""
    }
  },
  "socialIdentityProviders": {},
  "themes": [
    {
      "_id": "d9c4917d-c52b-428c-9625-ca65908edbfe",
      "accountCardBackgroundColor": "#ffffff",
      "accountCardHeaderColor": "#23282e",
      "accountCardInnerBorderColor": "#e7eef4",
      "accountCardInputBackgroundColor": "#ffffff",
      "accountCardInputBorderColor": "#c0c9d5",
      "accountCardInputFocusBorderColor": "#324054",
      "accountCardInputLabelColor": "#5e6d82",
      "accountCardInputSelectColor": "#e4f4fd",
      "accountCardInputSelectHoverColor": "#f6f8fa",
      "accountCardInputTextColor": "#23282e",
      "accountCardOuterBorderColor": "#e7eef4",
      "accountCardShadow": 3,
      "accountCardTabActiveBorderColor": "#109cf1",
      "accountCardTabActiveColor": "#e4f4fd",
      "accountCardTextColor": "#5e6d82",
      "accountFooter": "<div class=\"d-flex justify-content-center py-4 w-100\"><span class=\"pr-1\">© 2025</span>\n<a href=\"#\" target=\"_blank\" class=\"text-body\">My Company, Inc</a><a href=\"#\" target=\"_blank\" style=\"color: #0000ee\" class=\"pl-3 text-body\">Privacy Policy</a><a href=\"#\" target=\"_blank\" style=\"color: #0000ee\" class=\"pl-3 text-body\">Terms & Conditions</a></div>",
      "accountFooterEnabled": false,
      "accountFooterScriptTag": "PHNjcmlwdD4KICAoZnVuY3Rpb24oKSB7CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBCYWNrIExpbmsgSGFuZGxlcjogQXR0YWNoIGEgZnJlc2ggY2xpY2sgZXZlbnQgdG8gIkdvIEJhY2siIGxpbmsgdmlhIGNsb25pbmcuCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhdHRhY2hCYWNrTGlua0hhbmRsZXIobGluaykgewogICAgICAvLyBDbG9uZSB0aGUgZWxlbWVudCB0byByZW1vdmUgb2xkIGV2ZW50IGxpc3RlbmVycwogICAgICBjb25zdCBuZXdMaW5rID0gbGluay5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgIG5ld0xpbmsuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTsKICAgICAgfSk7CiAgICAgIC8vIFJlcGxhY2UgdGhlIG9sZCBsaW5rIHdpdGggdGhlIG5ldyBjbG9uZWQgbGluawogICAgICBsaW5rLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0xpbmssIGxpbmspOwogICAgICBjb25zb2xlLmxvZygiQmFjayBsaW5rIHVwZGF0ZWQgYW5kIGV2ZW50IGF0dGFjaGVkLiIpOwogICAgfQogICAgCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBVcGRhdGUgdGhlIGJhY2sgbGluazogZmluZCB0aGUgZWxlbWVudCBhbmQgcmVmcmVzaCBpdCB3aXRoIGEgZnJlc2ggZXZlbnQgbGlzdGVuZXIuCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB1cGRhdGVCYWNrTGluaygpIHsKICAgICAgY29uc3QgYmFja0xpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ28tYmFjay1saW5rIik7CiAgICAgIGlmIChiYWNrTGluaykgewogICAgICAgIGF0dGFjaEJhY2tMaW5rSGFuZGxlcihiYWNrTGluayk7CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gTXV0YXRpb25PYnNlcnZlciB0byBoYW5kbGUgZHluYW1pY2FsbHkgbG9hZGVkIGJhY2sgbGluay4KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGNvbnN0IGJhY2tMaW5rT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zLCBvYnNlcnZlcikgPT4gewogICAgICBjb25zdCBiYWNrTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnby1iYWNrLWxpbmsiKTsKICAgICAgaWYgKGJhY2tMaW5rKSB7CiAgICAgICAgYXR0YWNoQmFja0xpbmtIYW5kbGVyKGJhY2tMaW5rKTsKICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgIH0KICAgIH0pOwogICAgCiAgICBiYWNrTGlua09ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICAKICAgIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSB0aGUgYmFjayBsaW5rIGlmIGFscmVhZHkgbG9hZGVkLAogICAgLy8gb3RoZXJ3aXNlIHdhaXQgZm9yIERPTUNvbnRlbnRMb2FkZWQuCiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gImxvYWRpbmciKSB7CiAgICAgIHVwZGF0ZUJhY2tMaW5rKCk7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgdXBkYXRlQmFja0xpbmspOwogICAgfQogICAgCiAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgbGluayB3aGVuIHRoZSBwYWdlIGlzIHJlc3RvcmVkIGZyb20gdGhlIGNhY2hlIChiZmNhY2hlKQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInBhZ2VzaG93IiwgZnVuY3Rpb24oKSB7CiAgICAgIC8vIFVzaW5nIGEgc21hbGwgdGltZW91dCBlbnN1cmVzIHRoZSBET00gaXMgZnVsbHkgcmVzdG9yZWQuCiAgICAgIHNldFRpbWVvdXQodXBkYXRlQmFja0xpbmssIDUwMCk7CiAgICB9KTsKICAgIAogIH0pKCk7Cjwvc2NyaXB0Pgo=",
      "accountFooterScriptTagEnabled": false,
      "accountNavigationBackgroundColor": "#ffffff",
      "accountNavigationTextColor": "#455469",
      "accountNavigationToggleBorderColor": "#e7eef4",
      "accountPageSections": {
        "accountControls": {
          "enabled": false
        },
        "accountSecurity": {
          "enabled": true,
          "subsections": {
            "password": {
              "enabled": true
            },
            "securityQuestions": {
              "enabled": false
            },
            "twoStepVerification": {
              "enabled": true
            },
            "username": {
              "enabled": true
            }
          }
        },
        "consent": {
          "enabled": false
        },
        "oauthApplications": {
          "enabled": false
        },
        "personalInformation": {
          "enabled": true
        },
        "preferences": {
          "enabled": false
        },
        "social": {
          "enabled": false
        },
        "trustedDevices": {
          "enabled": true
        }
      },
      "accountTableRowHoverColor": "#f6f8fa",
      "backgroundColor": "#FFFFFF",
      "backgroundImage": "",
      "bodyText": "#23282e",
      "boldLinks": false,
      "buttonFocusBorderColor": "#01010A",
      "buttonRounded": "25",
      "dangerColor": "#DD1700",
      "favicon": "https://www.staples.com/sbd/img/ico/favicon.ico",
      "fontFamily": "Open Sans",
      "isDefault": false,
      "journeyA11yAddFallbackErrorHeading": false,
      "journeyCardBackgroundColor": "#ffffff",
      "journeyCardBorderRadius": "4",
      "journeyCardHeaderBackgroundColor": "#ffffff",
      "journeyCardShadow": "3",
      "journeyCardTextColor": "#000000",
      "journeyCardTitleColor": "#000000",
      "journeyFloatingLabels": true,
      "journeyFocusElement": "header",
      "journeyFocusFirstFocusableItemEnabled": false,
      "journeyFooter": {
        "en": "\n<style>\n  .footer {\n    font-family: 'Open Sans', sans-serif;\n    font-size: 11.5px;\n    color: black;\n    max-width: 1250px;\n    margin: 20px auto;\n    padding: 0 15px;\n    line-height: 1.6;\n  }\n  .footer .top, .footer .legal-links {\n    text-align: center;\n  }\n  .footer a {\n    color: black;\n    text-decoration: none;\n    margin: 0 5px;\n  }\n  .footer a:hover {\n    text-decoration: underline;\n  }\n  .footer .legal-links {\n    margin: 4px 0;\n    white-space: nowrap;\n  }\n  .footer .disclaimer {\n    margin-top: 4px;\n    text-align: left;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    padding-left: 10px;\n  }\n</style>\n\n<div class=\"footer\">\n  <div class=\"top\">\n    This website is intended for personal use by US residents only.\n    <a href=\"https://www.staples.com/hc?id=56c09a7a-cd63-4a26-b277-29023d9ece2e\">See our delivery policy for full details</a>.\n    <a href=\"https://www.staples.com/hc?id=52e40651-0852-4ad7-a532-45017c287d50\">Copyright 1998–2025, Staples, Inc., All Rights Reserved.</a>\n  </div>\n  <div class=\"legal-links\">\n    <a href=\"https://www.staples.com/htmlsitemap/\">Site Map</a> |\n    <a href=\"#\">Feedback</a> |\n    <a href=\"https://www.staples.com/hc?id=dbb94c10-973c-478b-a078-00e58f66ba32\">Privacy Notice</a> |\n    <a href=\"https://www.staples.com/hc?id=52e40651-0852-4ad7-a532-45017c287d50\">Terms &amp; Conditions</a> |\n    <a href=\"#\">Cookie Preferences</a> |\n    <a href=\"#\">Do Not Sell or Share My Personal Information</a> |\n    <a href=\"https://www.staples.com/hc?id=d0641e76-dd9f-4d69-80d3-ff148ddcd188\">California Notice</a>\n  </div>\n  <div class=\"disclaimer\">\n    *By clicking Instacart links, you will leave staples.com and enter the Instacart site, which they operate and control. Item prices may vary from in-store prices. Service fees may apply. Available in select zip codes or location.\n  </div>\n</div>\n",
        "gs": "<style>\n  /* Adjust margin to reduce space */\n  .sign-in-btn {\n    background-color: #CC0000; /* Updated color */\n    color: white;\n    border: none;\n    padding: 12px 50px;\n    font-size: 18px;\n    font-weight: bold;\n    border-radius: 50px;\n    width: 100%; /* Expand full width */\n    max-width: 100%; /* Ensure it takes up the full width */\n    text-align: center;\n    display: block; /* Ensures it takes the full width */\n    cursor: pointer;\n    text-decoration: none;\n    margin-top: -5px; /* Shifted slightly up */\n  }\n\n  .sign-in-btn:hover {\n    background-color: #900000;\n  }\n\n  /* Forgot Username & Password */\n  .link-container {\n    display: flex;\n    justify-content: center;\n    gap: 15px;\n    margin-top: -10px;\n    margin-bottom: 5px;\n  }\n\n  .link-container a {\n    text-decoration: underline;\n    font-weight: bold;\n    color: #086DD2;\n  }\n\n  /* Divider Line */\n  .divider {\n    text-align: center;\n    font-weight: bold;\n    margin: 5px 0;\n  }\n\n  /* What's a Passkey */\n  .passkey-info {\n    text-align: center;\n    margin-top: 5px;\n    margin-bottom: 20px;\n    font-size: 14px;\n  }\n\n  .passkey-info a {\n    text-decoration: underline;\n    color: black;\n    font-weight: bold;\n  }\n\n  /* Create Account Button */\n  .create-account-btn {\n    background-color: white;\n    color: black;\n    border: 2px solid black;\n    padding: 10px 40px;\n    font-size: 16px;\n    font-weight: bold;\n    border-radius: 50px;\n    width: 100%;\n    max-width: 100%;\n    text-align: center;\n    display: block;\n    cursor: pointer;\n    text-decoration: none;\n    white-space: nowrap;\n  }\n\n  .create-account-btn:hover {\n    background-color: #f2f2f2;\n  }\n\n  /* Terms and Privacy */\n  .terms-container {\n    text-align: center;\n    margin-top: 10px;\n    font-size: 14px;\n  }\n\n  .terms-container a {\n    text-decoration: underline;\n    color: #086DD2;\n    font-weight: bold;\n    display: block;\n  }\n</style>\n<div class=\"link-container\">\n  <a href=\"#/service/ForgottenUsername\">Forgot Username?</a>\n  <a href=\"#/service/ResetPassword\">Forgot Password?</a>\n</div>\n<div class=\"divider\">or</div>\n<a href=\"https://your-passkey-authentication-url\" target=\"_blank\" class=\"sign-in-btn\">\n  Sign in with Passkey\n</a>\n<div class=\"passkey-info\">\n  <a href=\"#\">What's a passkey?</a>\n</div>\n<a href=\"https://&amp;{fqdn}/am/XUI/?realm=alpha&amp;authIndexType=service&amp;authIndexValue=Dotcom_User_Registeration\" target=\"_blank\" class=\"create-account-btn\">\n   Create your Staples account\n</a>\n\n<a href=\"https://&amp;{fqdn}/am/XUI/?realm=alpha&amp;authIndexType=service&amp;authIndexValue=Dotcom_User_Registeration\" target=\"_blank\" class=\"sign-in-btn\">\n Continue as a Guest\n</a>\n\n<div class=\"terms-container\">\n  <span>By signing in, you agree to the following:</span>\n  <a href=\"#\">Staples Terms &amp; Conditions</a>\n  <a href=\"#\">Staples Privacy Policy</a>\n</div>\n"
      },
      "journeyFooterEnabled": true,
      "journeyFooterScriptTag": "PHNjcmlwdCBzcmM9Imh0dHBzOi8vYXNzZXRzLmFkb2JlZHRtLmNvbS8wYWFlMWEyZTRhZmIvZjUzYzFjN2M3M2U3L2xhdW5jaC1FTjc5Y2Y3YmM4ODkxYjQzNDlhMzZhNDYxYTEzNGZkZmUxLWRldmVsb3BtZW50Lm1pbi5qcyIgYXN5bmM+PC9zY3JpcHQ+CiAKPHNjcmlwdD4KICAoZnVuY3Rpb24oKSB7CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBHbG9iYWwgY2xpY2sgaGFuZGxlciBmb3IgZ28tYmFjay1saW5rIHZpYSBldmVudCBkZWxlZ2F0aW9uLgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgZ29CYWNrTGluayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcjZ28tYmFjay1saW5rJyk7CiAgICAgIGlmIChnb0JhY2tMaW5rKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjb25zb2xlLmxvZygnZ28tYmFjay1saW5rIGNsaWNrZWQsIGF0dGVtcHRpbmcgdG8gbmF2aWdhdGUgYmFjay4nKTsKICAgICAgICBpZiAod2luZG93Lmhpc3RvcnkubGVuZ3RoID4gMSkgewogICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBGYWxsYmFjazogUmVkaXJlY3QgdG8gYSBkZWZhdWx0IHBhZ2UgaWYgbm8gaGlzdG9yeSBleGlzdHMuCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJzsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0pKCk7Cjwvc2NyaXB0Pgo=",
      "journeyFooterScriptTagEnabled": true,
      "journeyHeader": "<header>\n  <nav class=\"navbar shadow-lg navbar-light bg-white navbar-expand-lg\">\n    <a href=\"https://www.staples.com/\" target=\"_blank\">\n      <img src=\"https://creatives.attn.tv/staples/Staples_logo_r_81426cae.svg\" alt=\"Logo\" style=\"height:28px\" />\n    </a>\n    <div class=\"navbar-collapse d-none d-lg-flex justify-content-end\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav\" style=\"margin-right:20px\">\n        <li class=\"nav-item\">\n          <a id=\"go-back-link\" href=\"#\" style=\"font-size:15px;color:black;text-decoration:none\">Continue Shopping</a>\n        </li>\n      </ul>\n    </div>\n  </nav>\n</header>\n<style>\n  #go-back-link:hover {\n    text-decoration: none;\n    color: black; /* Maintain black color on hover */\n  }\n</style>\n",
      "journeyHeaderEnabled": true,
      "journeyHeaderSkipLinkEnabled": false,
      "journeyInputBackgroundColor": "#ffffff",
      "journeyInputBorderColor": "#c0c9d5",
      "journeyInputFocusBorderColor": "#324054",
      "journeyInputLabelColor": "#354152",
      "journeyInputSelectColor": "#e4f4fd",
      "journeyInputSelectHoverColor": "#f6f8fa",
      "journeyInputTextColor": "#000000",
      "journeyJustifiedContent": "",
      "journeyJustifiedContentEnabled": false,
      "journeyJustifiedContentMobileViewEnabled": false,
      "journeyLayout": "card",
      "journeyRememberMeEnabled": false,
      "journeyRememberMeLabel": "",
      "journeySignInButtonPosition": "flex-column",
      "journeyTheaterMode": false,
      "linkActiveColor": "#004067",
      "linkColor": "#086DD2",
      "linkedTrees": [
        "staples_dotcom_login_journey",
        "__staples_dotcom_login_journey__S5",
        "__Shop_As_Guest__S5",
        "__staples_dotcom_login_journey__rme",
        "__steples_merged",
        "__staples_merged_s5",
        "Copy of __staples_merged_s5",
        "_staples_merged_s6",
        "__staples_h_1kosmos",
        "__staples_h_device_profile"
      ],
      "logo": "https://creatives.attn.tv/staples/Staples_logo_r_81426cae.svg",
      "logoAltText": "",
      "logoEnabled": true,
      "logoHeight": "40",
      "logoProfile": "https://upload.wikimedia.org/wikipedia/commons/4/45/Staples_2019.svg",
      "logoProfileAltText": "Staples",
      "logoProfileCollapsed": "https://upload.wikimedia.org/wikipedia/commons/4/45/Staples_2019.svg",
      "logoProfileCollapsedAltText": "Staples",
      "logoProfileHeight": "24",
      "name": "staples_theme",
      "pageTitle": "#23282e",
      "primaryColor": "#CC0000",
      "primaryOffColor": "#CC0000",
      "profileBackgroundColor": "#ffffff",
      "profileMenuHighlightColor": "#f6f8fa",
      "profileMenuHoverColor": "#f6f8fa",
      "profileMenuHoverTextColor": "#455469",
      "profileMenuTextHighlightColor": "#455469",
      "secondaryColor": "#969696",
      "successColor": "#5A970D",
      "switchBackgroundColor": "#c0c9d5",
      "textColor": "#FFFFFF",
      "topBarBackgroundColor": "#ffffff",
      "topBarBorderColor": "#e7eef4",
      "topBarHeaderColor": "#23282e",
      "topBarTextColor": "#69788b"
    }
  ],
  "tree": {
    "_id": "__staples_h_device_profile",
    "description": "Login with username or email\n\"Remember Me\" via persistent cookie along with staples branding for default login behavior and shop as guest behaviour\n",
    "enabled": true,
    "entryNodeId": "d1f02492-2f93-4840-8e2d-a6e4c8c32410",
    "identityResource": "managed/alpha_user",
    "innerTreeOnly": false,
    "mustRun": false,
    "nodes": {
      "22856339-794f-4f48-a523-6b4e9b3d3cf3": {
        "connections": {
          "true": "e5002434-8914-44ef-ad44-c1d179b3cb32"
        },
        "displayName": "Checkout Input Collector",
        "nodeType": "PageNode",
        "x": 265,
        "y": 383.5
      },
      "31492a91-aff6-4e42-8626-e10f35586c89": {
        "connections": {
          "outcome": "eaac43f4-ccc1-4763-9bb6-346cf491a739"
        },
        "displayName": "Device Profile Collector",
        "nodeType": "DeviceProfileCollectorNode",
        "x": 657,
        "y": 14
      },
      "4042643b-67e7-4580-980d-1569fc3b0a0e": {
        "connections": {
          "false": "70e691a5-1e33-4ac3-a356-e7b6d60d92e0",
          "true": "d26ae5e7-c474-4eec-8c8d-9122669108cf"
        },
        "displayName": "Keep Me Logged In Decision",
        "nodeType": "ScriptedDecisionNode",
        "x": 1184,
        "y": 132.5
      },
      "48eb0092-08cf-4bae-b73c-bad4026d1c4d": {
        "connections": {
          "email": "79088e17-804f-4efd-8966-88196c6c8079",
          "username": "e79146ba-ae99-4a1a-8a1f-301f34279914"
        },
        "displayName": "Username/Email Decision",
        "nodeType": "ScriptedDecisionNode",
        "x": 980,
        "y": 475.94444274902344
      },
      "79088e17-804f-4efd-8966-88196c6c8079": {
        "connections": {
          "Compromised": "a6b2a6fb-d654-4833-bd38-9863421068eb",
          "Error": "e301438c-0bd0-429c-ab0c-66126501069a",
          "Not Compromised": "31492a91-aff6-4e42-8626-e10f35586c89"
        },
        "displayName": "spycloudAuthNode",
        "nodeType": "spycloudAuthNode",
        "x": 1292,
        "y": 670.9444427490234
      },
      "a6b2a6fb-d654-4833-bd38-9863421068eb": {
        "connections": {
          "outcome": "e301438c-0bd0-429c-ab0c-66126501069a"
        },
        "displayName": "Account Lockout",
        "nodeType": "AccountLockoutNode",
        "x": 1682,
        "y": 655.2222137451172
      },
      "c2eb04a3-9539-4f7c-bacd-6f76e1a1f990": {
        "connections": {
          "outcome": "70e691a5-1e33-4ac3-a356-e7b6d60d92e0"
        },
        "displayName": "Set Persistent Cookie",
        "nodeType": "SetPersistentCookieNode",
        "x": 1927,
        "y": 53
      },
      "c65ffbe5-1a4f-4c2d-ad47-68910ff32499": {
        "connections": {},
        "displayName": "Debug Node",
        "nodeType": "DebugNode",
        "x": null,
        "y": null
      },
      "d1f02492-2f93-4840-8e2d-a6e4c8c32410": {
        "connections": {
          "false": "22856339-794f-4f48-a523-6b4e9b3d3cf3",
          "true": "31492a91-aff6-4e42-8626-e10f35586c89"
        },
        "displayName": "Persistent Cookie Decision",
        "nodeType": "PersistentCookieDecisionNode",
        "x": 189,
        "y": 83.5
      },
      "d26ae5e7-c474-4eec-8c8d-9122669108cf": {
        "connections": {
          "CONFIGURATION_FAILED": "e301438c-0bd0-429c-ab0c-66126501069a",
          "outcome": "c2eb04a3-9539-4f7c-bacd-6f76e1a1f990"
        },
        "displayName": "Trusted Device Cookie Config Provider",
        "nodeType": "ConfigProviderNode",
        "x": 1628,
        "y": 24
      },
      "e5002434-8914-44ef-ad44-c1d179b3cb32": {
        "connections": {
          "false": "f522dec3-36cf-45e8-84d4-0df39e459077",
          "true": "ff580a3e-3e80-47b6-9f6b-5481187ea4b6"
        },
        "displayName": "Data Store Decision",
        "nodeType": "DataStoreDecisionNode",
        "x": 410,
        "y": 573.5
      },
      "e79146ba-ae99-4a1a-8a1f-301f34279914": {
        "connections": {
          "Compromised": "a6b2a6fb-d654-4833-bd38-9863421068eb",
          "Error": "e301438c-0bd0-429c-ab0c-66126501069a",
          "Not Compromised": "31492a91-aff6-4e42-8626-e10f35586c89"
        },
        "displayName": "spycloudAuthNode",
        "nodeType": "spycloudAuthNode",
        "x": 1300,
        "y": 385.94444274902344
      },
      "eaac43f4-ccc1-4763-9bb6-346cf491a739": {
        "connections": {
          "error": "e301438c-0bd0-429c-ab0c-66126501069a",
          "match": "4042643b-67e7-4580-980d-1569fc3b0a0e",
          "mismatch": "e301438c-0bd0-429c-ab0c-66126501069a",
          "unknown": "4042643b-67e7-4580-980d-1569fc3b0a0e"
        },
        "displayName": "Device Profile Match Decision",
        "nodeType": "ScriptedDecisionNode",
        "x": 842,
        "y": 225
      },
      "f522dec3-36cf-45e8-84d4-0df39e459077": {
        "connections": {
          "false": "e301438c-0bd0-429c-ab0c-66126501069a",
          "true": "e5002434-8914-44ef-ad44-c1d179b3cb32"
        },
        "displayName": "Identify Existing User",
        "nodeType": "IdentifyExistingUserNode",
        "x": 287.2638854980469,
        "y": 848.9444427490234
      },
      "ff580a3e-3e80-47b6-9f6b-5481187ea4b6": {
        "connections": {
          "false": "a6b2a6fb-d654-4833-bd38-9863421068eb",
          "true": "48eb0092-08cf-4bae-b73c-bad4026d1c4d"
        },
        "displayName": "Account Active Decision",
        "nodeType": "AccountActiveDecisionNode",
        "x": 664,
        "y": 511.2222137451172
      }
    },
    "staticNodes": {
      "70e691a5-1e33-4ac3-a356-e7b6d60d92e0": {
        "x": 2149,
        "y": 287.5
      },
      "e301438c-0bd0-429c-ab0c-66126501069a": {
        "x": 2067,
        "y": 480
      },
      "startNode": {
        "x": 70,
        "y": 155.5
      }
    },
    "uiConfig": {
      "categories": "[\"Authentication\"]"
    }
  }
}
